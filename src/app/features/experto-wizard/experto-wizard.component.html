<div class="wizard-container">
  <h4>Paso 1: Área Principal Afectada</h4>
  <p>Seleccione el área principal para iniciar el asistente.</p>

  <mat-radio-group
    [(ngModel)]="areaSeleccionada"
    (change)="onAreaChange()"
    [ngModelOptions]="{standalone: true}">

    <mat-radio-button value="b1">Funciones Mentales (b1)</mat-radio-button>
    <mat-radio-button value="b2" >Funciones Sensoriales (b2)</mat-radio-button>
    <mat-radio-button value="d4">Actividad y Participación</mat-radio-button>
  </mat-radio-group>

  <hr *ngIf="areaSeleccionada">

  <div *ngIf="areaSeleccionada" class="step-container">
    <h4>Paso 2: Responda las siguientes preguntas</h4>

    <div *ngIf="isLoadingPreguntas">
      <p>Cargando preguntas...</p>
    </div>

    <div *ngIf="!isLoadingPreguntas && preguntas.length > 0" class="preguntas-list">

      <div *ngFor="let p of preguntas" class="pregunta-item">

        <label class="pregunta-texto">{{ p.texto_pregunta }}</label>

        <mat-radio-group
          class="opciones-calificador"
          (change)="onRespuestaChange(p.id, $event.value)">

          <mat-radio-button *ngFor="let opt of opcionesCalificador" [value]="opt.valor">
            {{ opt.texto }}
          </mat-radio-button>
        </mat-radio-group>

      </div>
    </div>

    <div *ngIf="!isLoadingPreguntas && preguntas.length > 0" class="step-container">
      <button 
        mat-raised-button 
        color="primary" 
        type="button" 
        (click)="finalizarWizard()">
        Sugerir Códigos
      </button>
    </div>

  </div> </div>