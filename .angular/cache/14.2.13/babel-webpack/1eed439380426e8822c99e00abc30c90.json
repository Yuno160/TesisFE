{"ast":null,"code":"import { ChangeDetectorRef } from '@angular/core';\nimport { timer } from 'rxjs';\nimport { Subscription } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/cdk/layout\";\nimport * as i2 from \"../../core/services/spinner.service\";\nimport * as i3 from \"src/app/core/services/auth.service\";\nimport * as i4 from \"src/app/core/guards/auth.guard\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/sidenav\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/toolbar\";\nimport * as i10 from \"@angular/material/button\";\nimport * as i11 from \"@angular/material/list\";\nimport * as i12 from \"@angular/material/core\";\nimport * as i13 from \"@angular/material/progress-bar\";\nimport * as i14 from \"@angular/material/menu\";\nimport * as i15 from \"@angular/material/tooltip\";\nimport * as i16 from \"@angular/material/badge\";\nimport * as i17 from \"@angular/flex-layout/extended\";\n\nfunction LayoutComponent_mat_progress_bar_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 26);\n  }\n}\n\nconst _c0 = function () {\n  return [\"/\"];\n};\n\nconst _c1 = function () {\n  return [\"/account/profile\"];\n};\n\nconst _c2 = function () {\n  return [\"/auth/login\"];\n};\n\nconst _c3 = function () {\n  return [\"/dashboard\"];\n};\n\nconst _c4 = function () {\n  return [\"/customers\"];\n};\n\nconst _c5 = function () {\n  return [\"/icons\"];\n};\n\nconst _c6 = function () {\n  return [\"/typography\"];\n};\n\nexport class LayoutComponent {\n  constructor(changeDetectorRef, media, spinnerService, authService, authGuard) {\n    this.changeDetectorRef = changeDetectorRef;\n    this.media = media;\n    this.spinnerService = spinnerService;\n    this.authService = authService;\n    this.authGuard = authGuard;\n    this.showSpinner = false;\n    this.userName = \"\";\n    this.isAdmin = false;\n    this.autoLogoutSubscription = new Subscription();\n    this.mobileQuery = this.media.matchMedia('(max-width: 1000px)');\n\n    this._mobileQueryListener = () => changeDetectorRef.detectChanges(); // tslint:disable-next-line: deprecation\n\n\n    this.mobileQuery.addListener(this._mobileQueryListener);\n  }\n\n  ngOnInit() {\n    const user = this.authService.getCurrentUser();\n    this.isAdmin = user.isAdmin;\n    this.userName = user.fullName; // Auto log-out subscription\n\n    const timer$ = timer(2000, 5000);\n    this.autoLogoutSubscription = timer$.subscribe(() => {\n      this.authGuard.canActivate();\n    });\n  }\n\n  ngOnDestroy() {\n    // tslint:disable-next-line: deprecation\n    this.mobileQuery.removeListener(this._mobileQueryListener);\n    this.autoLogoutSubscription.unsubscribe();\n  }\n\n  ngAfterViewInit() {\n    this.changeDetectorRef.detectChanges();\n  }\n\n  onLogout() {\n    this.authService.logout(); // Esta función ya se encarga de borrar el localStorage \n    // y redirigir al login.\n  }\n\n}\n\nLayoutComponent.ɵfac = function LayoutComponent_Factory(t) {\n  return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.MediaMatcher), i0.ɵɵdirectiveInject(i2.SpinnerService), i0.ɵɵdirectiveInject(i3.AuthenticationService), i0.ɵɵdirectiveInject(i4.AuthGuard));\n};\n\nLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LayoutComponent,\n  selectors: [[\"app-layout\"]],\n  decls: 81,\n  vars: 31,\n  consts: [[1, \"navbar-container\"], [1, \"navbar\"], [\"mat-icon-button\", \"\", 3, \"click\"], [\"matTooltip\", \"Home\", 1, \"navbar-brand\", 3, \"routerLink\"], [1, \"navbar-spacer\"], [\"mat-icon-button\", \"\", 3, \"matMenuTriggerFor\"], [\"matBadge\", \"2\", \"matBadgeColor\", \"accent\"], [\"xPosition\", \"before\", \"yPosition\", \"above\", 3, \"overlapTrigger\"], [\"notificationMenu\", \"matMenu\"], [\"mat-menu-item\", \"\"], [\"mat-button\", \"\", 3, \"matMenuTriggerFor\"], [\"fxShow\", \"\", \"fxHide.xs\", \"\"], [\"userMenu\", \"matMenu\"], [\"mat-menu-item\", \"\", 3, \"routerLink\"], [1, \"navbar-sidenav-container\"], [\"fixedTopGap\", \"56\", 1, \"sidenav\", 3, \"opened\", \"mode\", \"fixedInViewport\"], [\"snav\", \"\"], [\"mat-list-item\", \"\", \"routerLinkActive\", \"active\", 3, \"routerLink\"], [\"mat-list-icon\", \"\"], [\"mat-line\", \"\"], [\"mat-list-item\", \"\", 3, \"routerLink\"], [\"mat-list-item\", \"\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"id\", \"push-bottom\", \"mat-list-item\", \"\", \"routerLinkActive\", \"active\", 3, \"routerLink\"], [1, \"sidenav-content\"], [1, \"progress-bar-container\"], [\"color\", \"accent\", \"mode\", \"indeterminate\", 4, \"ngIf\"], [\"color\", \"accent\", \"mode\", \"indeterminate\"]],\n  template: function LayoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-toolbar\", 1)(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function LayoutComponent_Template_button_click_2_listener() {\n        i0.ɵɵrestoreView(_r4);\n\n        const _r2 = i0.ɵɵreference(39);\n\n        return i0.ɵɵresetView(_r2.toggle());\n      });\n      i0.ɵɵelementStart(3, \"mat-icon\");\n      i0.ɵɵtext(4, \"menu\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"a\", 3)(6, \"h1\");\n      i0.ɵɵtext(7, \" SHOG.AI \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(8, \"span\", 4);\n      i0.ɵɵelementStart(9, \"button\", 5)(10, \"mat-icon\", 6);\n      i0.ɵɵtext(11, \"notifications\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"mat-menu\", 7, 8)(14, \"a\", 9)(15, \"span\");\n      i0.ɵɵtext(16, \"You have new tasks\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"a\", 9)(18, \"span\");\n      i0.ɵɵtext(19, \"You have a new message\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"button\", 10)(21, \"mat-icon\");\n      i0.ɵɵtext(22, \"person\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"span\", 11);\n      i0.ɵɵtext(24);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"mat-menu\", 7, 12)(27, \"a\", 13)(28, \"mat-icon\");\n      i0.ɵɵtext(29, \"person\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"span\");\n      i0.ɵɵtext(31, \"Account\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(32, \"a\", 13)(33, \"mat-icon\");\n      i0.ɵɵtext(34, \"exit_to_app\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"span\");\n      i0.ɵɵtext(36, \"Log out\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(37, \"mat-sidenav-container\", 14)(38, \"mat-sidenav\", 15, 16)(40, \"mat-nav-list\")(41, \"a\", 17)(42, \"mat-icon\", 18);\n      i0.ɵɵtext(43, \" dashboard \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"p\", 19);\n      i0.ɵɵtext(45, \" Home \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(46, \"a\", 17)(47, \"mat-icon\", 18);\n      i0.ɵɵtext(48, \" business \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"p\", 19);\n      i0.ɵɵtext(50, \" Patients \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"a\", 20)(52, \"mat-icon\", 18);\n      i0.ɵɵtext(53, \"person\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"p\", 19);\n      i0.ɵɵtext(55, \" Account \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(56, \"a\", 17)(57, \"mat-icon\", 18);\n      i0.ɵɵtext(58, \" toll \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"p\", 19);\n      i0.ɵɵtext(60, \" Reports \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(61, \"a\", 17)(62, \"mat-icon\", 18);\n      i0.ɵɵtext(63, \" font_download \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(64, \"p\", 19);\n      i0.ɵɵtext(65, \" Bookings \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(66, \"a\", 21);\n      i0.ɵɵlistener(\"click\", function LayoutComponent_Template_a_click_66_listener() {\n        return ctx.onLogout();\n      });\n      i0.ɵɵelementStart(67, \"mat-icon\", 18);\n      i0.ɵɵtext(68, \"exit_to_app\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"p\", 19);\n      i0.ɵɵtext(70, \" Log out \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(71, \"a\", 22)(72, \"mat-icon\", 18);\n      i0.ɵɵtext(73, \" info_outline \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"p\", 19);\n      i0.ɵɵtext(75, \" About \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(76, \"mat-sidenav-content\", 23)(77, \"div\", 24);\n      i0.ɵɵtemplate(78, LayoutComponent_mat_progress_bar_78_Template, 1, 0, \"mat-progress-bar\", 25);\n      i0.ɵɵpipe(79, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(80, \"router-outlet\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(13);\n\n      const _r1 = i0.ɵɵreference(26);\n\n      i0.ɵɵclassProp(\"example-is-mobile\", ctx.mobileQuery.matches);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(22, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"matMenuTriggerFor\", _r0);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"overlapTrigger\", false);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"matMenuTriggerFor\", _r1);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.userName, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"overlapTrigger\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(23, _c1));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(24, _c2));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"opened\", !ctx.mobileQuery.matches)(\"mode\", ctx.mobileQuery.matches ? \"over\" : \"side\")(\"fixedInViewport\", ctx.mobileQuery.matches);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(25, _c3));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(26, _c4));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(27, _c1));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(28, _c5));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(29, _c6));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(30, _c2));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(79, 20, ctx.spinnerService.visibility));\n    }\n  },\n  dependencies: [i5.RouterOutlet, i5.RouterLinkWithHref, i5.RouterLinkActive, i6.NgIf, i7.MatSidenav, i7.MatSidenavContainer, i7.MatSidenavContent, i8.MatIcon, i9.MatToolbar, i10.MatButton, i11.MatNavList, i11.MatListItem, i12.MatLine, i11.MatListIconCssMatStyler, i13.MatProgressBar, i14.MatMenu, i14.MatMenuItem, i14.MatMenuTrigger, i15.MatTooltip, i16.MatBadge, i17.DefaultShowHideDirective, i6.AsyncPipe],\n  styles: [\".navbar-spacer[_ngcontent-%COMP%] {\\r\\n  flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.navbar[_ngcontent-%COMP%] {\\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.navbar-brand[_ngcontent-%COMP%] {\\r\\n  text-decoration: none;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.navbar-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n}\\r\\n\\r\\n.navbar-is-mobile[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%] {\\r\\n  position: fixed;\\r\\n  \\r\\n  z-index: 2;\\r\\n}\\r\\n\\r\\n.navbar-sidenav-container[_ngcontent-%COMP%] {\\r\\n  \\r\\n  flex: 1;\\r\\n}\\r\\n\\r\\n.navbar-is-mobile[_ngcontent-%COMP%]   .navbar-sidenav-container[_ngcontent-%COMP%] {\\r\\n  \\r\\n  flex: 1 0 auto;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\nmat-sidenav[_ngcontent-%COMP%] {\\r\\n  min-width: 180px !important;\\r\\n  border-right: 1px solid #eee;\\r\\n  box-shadow: 6px 0 6px rgba(0, 0, 0, .1);\\r\\n  \\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.progress-bar-container[_ngcontent-%COMP%] {\\r\\n  height: 5px;\\r\\n}\\r\\n\\r\\na.mat-list-item.active[_ngcontent-%COMP%] {\\r\\n  background: rgba(0, 0, 0, .04);\\r\\n}\\r\\n\\r\\n#push-bottom[_ngcontent-%COMP%] {\\r\\n  position: absolute;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\nmat-toolbar[_ngcontent-%COMP%]{\\r\\n  background-color: #41dedd\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxheW91dC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixNQUFNO0VBQ04sU0FBUztFQUNULE9BQU87RUFDUCxRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsOEVBQThFO0VBQzlFLFVBQVU7QUFDWjs7QUFFQTtFQUNFO2dHQUM4RjtFQUM5RixPQUFPO0FBQ1Q7O0FBRUE7RUFDRTtxRUFDbUU7RUFDbkUsY0FBYztBQUNoQjs7QUFFQSxvQkFBb0I7O0FBRXBCO0VBQ0UsMkJBQTJCO0VBQzNCLDRCQUE0QjtFQUM1Qix1Q0FBdUM7RUFDdkMsdUNBQXVDO0FBQ3pDOztBQUVBLGdFQUFnRTs7QUFFaEU7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUztBQUNYOztBQUVBO0VBQ0U7QUFDRiIsImZpbGUiOiJsYXlvdXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXZiYXItc3BhY2VyIHtcclxuICBmbGV4OiAxIDEgYXV0bztcclxufVxyXG5cclxuLm5hdmJhciB7XHJcbiAgei1pbmRleDogMjtcclxufVxyXG5cclxuLm5hdmJhci1icmFuZCB7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLm5hdmJhci1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGJvdHRvbTogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHJpZ2h0OiAwO1xyXG59XHJcblxyXG4ubmF2YmFyLWlzLW1vYmlsZSAubmF2YmFyIHtcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgLyogTWFrZSBzdXJlIHRoZSB0b29sYmFyIHdpbGwgc3RheSBvbiB0b3Agb2YgdGhlIGNvbnRlbnQgYXMgaXQgc2Nyb2xscyBwYXN0LiAqL1xyXG4gIHotaW5kZXg6IDI7XHJcbn1cclxuXHJcbi5uYXZiYXItc2lkZW5hdi1jb250YWluZXIge1xyXG4gIC8qIFdoZW4gdGhlIHNpZGVuYXYgaXMgbm90IGZpeGVkLCBzdHJldGNoIHRoZSBzaWRlbmF2IGNvbnRhaW5lciB0byBmaWxsIHRoZSBhdmFpbGFibGUgc3BhY2UuIFRoaXNcclxuICAgICAgICAgICBjYXVzZXMgYDxtYXQtc2lkZW5hdi1jb250ZW50PmAgdG8gYWN0IGFzIG91ciBzY3JvbGxpbmcgZWxlbWVudCBmb3IgZGVza3RvcCBsYXlvdXRzLiAqL1xyXG4gIGZsZXg6IDE7XHJcbn1cclxuXHJcbi5uYXZiYXItaXMtbW9iaWxlIC5uYXZiYXItc2lkZW5hdi1jb250YWluZXIge1xyXG4gIC8qIFdoZW4gdGhlIHNpZGVuYXYgaXMgZml4ZWQsIGRvbid0IGNvbnN0cmFpbiB0aGUgaGVpZ2h0IG9mIHRoZSBzaWRlbmF2IGNvbnRhaW5lci4gVGhpcyBhbGxvd3MgdGhlXHJcbiAgICAgICAgICAgYDxib2R5PmAgdG8gYmUgb3VyIHNjcm9sbGluZyBlbGVtZW50IGZvciBtb2JpbGUgbGF5b3V0cy4gKi9cclxuICBmbGV4OiAxIDAgYXV0bztcclxufVxyXG5cclxuLypTZXQgc2lkZW5hdiB3aWR0aCovXHJcblxyXG5tYXQtc2lkZW5hdiB7XHJcbiAgbWluLXdpZHRoOiAxODBweCAhaW1wb3J0YW50O1xyXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlZWU7XHJcbiAgYm94LXNoYWRvdzogNnB4IDAgNnB4IHJnYmEoMCwgMCwgMCwgLjEpO1xyXG4gIC8qIGJhY2tncm91bmQtY29sb3I6cmdiKDYzLCA4MSwgMTgxKTsgKi9cclxufVxyXG5cclxuLyogU2V0IGhlaWdodCBvZiB3cmFwcGVyIHRvIHN0b3AgY29udGVudCBmcm9tIG1vdmluZyB1cCAmIGRvd24gKi9cclxuXHJcbi5wcm9ncmVzcy1iYXItY29udGFpbmVyIHtcclxuICBoZWlnaHQ6IDVweDtcclxufVxyXG5cclxuYS5tYXQtbGlzdC1pdGVtLmFjdGl2ZSB7XHJcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMDQpO1xyXG59XHJcblxyXG4jcHVzaC1ib3R0b20ge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBib3R0b206IDA7XHJcbn1cclxuXHJcbm1hdC10b29sYmFye1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0MWRlZGRcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ChangeDetectorRef","timer","Subscription","i0","LayoutComponent","constructor","changeDetectorRef","media","spinnerService","authService","authGuard","mobileQuery","matchMedia","_mobileQueryListener","detectChanges","addListener","ngOnInit","user","getCurrentUser","isAdmin","userName","fullName","timer$","autoLogoutSubscription","subscribe","canActivate","ngOnDestroy","removeListener","unsubscribe","ngAfterViewInit","onLogout","logout","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Nueva carpeta\\Shogai-internal\\ultimoAhoraSi\\src\\app\\shared\\layout\\layout.component.ts","D:\\Nueva carpeta\\Shogai-internal\\ultimoAhoraSi\\src\\app\\shared\\layout\\layout.component.html"],"sourcesContent":["import { Component, OnInit, ChangeDetectorRef, OnDestroy, AfterViewInit } from '@angular/core';\r\nimport { MediaMatcher } from '@angular/cdk/layout';\r\nimport { timer } from 'rxjs';\r\nimport { Subscription } from 'rxjs';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n import { AuthenticationService } from 'src/app/core/services/auth.service';\r\nimport { SpinnerService } from '../../core/services/spinner.service';\r\nimport { AuthGuard } from 'src/app/core/guards/auth.guard';\r\n\r\n@Component({\r\n    selector: 'app-layout',\r\n    templateUrl: './layout.component.html',\r\n    styleUrls: ['./layout.component.css']\r\n})\r\nexport class LayoutComponent implements OnInit, OnDestroy, AfterViewInit {\r\n\r\n    private _mobileQueryListener: () => void;\r\n    mobileQuery: MediaQueryList;\r\n    showSpinner: boolean = false;\r\n    userName: string = \"\";\r\n    isAdmin: boolean = false;\r\n\r\n    private autoLogoutSubscription: Subscription = new Subscription;\r\n\r\n    constructor(private changeDetectorRef: ChangeDetectorRef,\r\n        private media: MediaMatcher,\r\n        public spinnerService: SpinnerService,\r\n        private authService: AuthenticationService,\r\n        private authGuard: AuthGuard) {\r\n\r\n        this.mobileQuery = this.media.matchMedia('(max-width: 1000px)');\r\n        this._mobileQueryListener = () => changeDetectorRef.detectChanges();\r\n        // tslint:disable-next-line: deprecation\r\n        this.mobileQuery.addListener(this._mobileQueryListener);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        const user = this.authService.getCurrentUser();\r\n\r\n        this.isAdmin = user.isAdmin;\r\n        this.userName = user.fullName;\r\n\r\n        // Auto log-out subscription\r\n        const timer$ = timer(2000, 5000);\r\n        this.autoLogoutSubscription = timer$.subscribe(() => {\r\n            this.authGuard.canActivate();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        // tslint:disable-next-line: deprecation\r\n        this.mobileQuery.removeListener(this._mobileQueryListener);\r\n        this.autoLogoutSubscription.unsubscribe();\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    onLogout() {\r\n        this.authService.logout(); \r\n        // Esta función ya se encarga de borrar el localStorage \r\n        // y redirigir al login.\r\n    }\r\n}\r\n","<div class=\"navbar-container\" [class.example-is-mobile]=\"mobileQuery.matches\">\r\n\r\n  <!-- Top navbar -->\r\n  <mat-toolbar class=\"navbar\">\r\n\r\n    <button mat-icon-button (click)=\"snav.toggle()\">\r\n      <mat-icon>menu</mat-icon>\r\n    </button>\r\n\r\n    <a class=\"navbar-brand\" [routerLink]=\"['/']\" matTooltip=\"Home\">\r\n      <h1>\r\n        SHOG.AI\r\n      </h1>\r\n    </a>\r\n\r\n    <span class=\"navbar-spacer\"></span>\r\n\r\n    <button mat-icon-button [matMenuTriggerFor]=\"notificationMenu\">\r\n      <mat-icon matBadge=\"2\" matBadgeColor=\"accent\">notifications</mat-icon>\r\n    </button>\r\n    <mat-menu #notificationMenu=\"matMenu\" xPosition=\"before\" yPosition=\"above\" [overlapTrigger]=\"false\">\r\n\r\n      <a mat-menu-item>\r\n        <span>You have new tasks</span>\r\n      </a>\r\n      <a mat-menu-item>\r\n        <span>You have a new message</span>\r\n      </a>\r\n\r\n    </mat-menu>\r\n\r\n\r\n\r\n    <button mat-button [matMenuTriggerFor]=\"userMenu\">\r\n      <mat-icon>person</mat-icon>\r\n      <span fxShow fxHide.xs>\r\n        {{userName}}\r\n      </span>\r\n    </button>\r\n    <mat-menu #userMenu=\"matMenu\" xPosition=\"before\" yPosition=\"above\" [overlapTrigger]=\"false\">\r\n\r\n      <a mat-menu-item [routerLink]=\"['/account/profile']\">\r\n        <mat-icon>person</mat-icon>\r\n        <span>Account</span>\r\n      </a>\r\n\r\n      <a mat-menu-item [routerLink]=\"['/auth/login']\">\r\n        <mat-icon>exit_to_app</mat-icon>\r\n        <span>Log out</span>\r\n      </a>\r\n\r\n    </mat-menu>\r\n\r\n  </mat-toolbar>\r\n\r\n  <mat-sidenav-container class=\"navbar-sidenav-container\">\r\n    <!-- Side nav -->\r\n    <mat-sidenav #snav [opened]=\"!mobileQuery.matches\" [mode]=\"mobileQuery.matches ? 'over' : 'side'\"\r\n      [fixedInViewport]=\"mobileQuery.matches\" fixedTopGap=\"56\" class=\"sidenav\">\r\n\r\n      <mat-nav-list>\r\n        \r\n\r\n        <a mat-list-item [routerLink]=\"['/dashboard']\" routerLinkActive=\"active\">\r\n          <mat-icon mat-list-icon>\r\n            dashboard\r\n          </mat-icon>\r\n          <p mat-line> Home </p>\r\n        </a>\r\n\r\n        <a mat-list-item [routerLink]=\"['/customers']\" routerLinkActive=\"active\">\r\n          <mat-icon mat-list-icon>\r\n            business\r\n          </mat-icon>\r\n          <p mat-line> Patients </p>\r\n        </a>\r\n        <!-- <a mat-list-item [routerLink]=\"['/users']\" routerLinkActive=\"active\">\r\n          <mat-icon mat-list-icon>\r\n            people\r\n          </mat-icon>\r\n          <p mat-line> Diagnose </p>\r\n        </a> -->\r\n\r\n        <a mat-list-item [routerLink]=\"['/account/profile']\">\r\n          <mat-icon mat-list-icon>person</mat-icon>\r\n          <p mat-line> Account </p>\r\n        </a>\r\n\r\n        \r\n<!-- \r\n        <mat-divider></mat-divider>\r\n\r\n        <h3 mat-subheader>Resources</h3> -->\r\n\r\n        <a mat-list-item [routerLink]=\"['/icons']\" routerLinkActive=\"active\">\r\n          <mat-icon mat-list-icon>\r\n            toll\r\n          </mat-icon>\r\n          <p mat-line> Reports </p>\r\n        </a>\r\n        <a mat-list-item [routerLink]=\"['/typography']\" routerLinkActive=\"active\">\r\n          <mat-icon mat-list-icon>\r\n            font_download\r\n          </mat-icon>\r\n          <p mat-line> Bookings </p>\r\n        </a>\r\n\r\n        \r\n\r\n        <a mat-list-item (click)=\"onLogout()\" style=\"cursor: pointer;\">\r\n  <mat-icon mat-list-icon>exit_to_app</mat-icon>\r\n  <p mat-line> Log out </p>\r\n</a>\r\n        <a id=\"push-bottom\" mat-list-item [routerLink]=\"['/auth/login']\" routerLinkActive=\"active\">\r\n          <mat-icon mat-list-icon>\r\n            info_outline\r\n          </mat-icon>\r\n          <p mat-line> About </p>\r\n\r\n          \r\n        </a>\r\n      </mat-nav-list>\r\n\r\n    </mat-sidenav>\r\n\r\n    <!-- Main content -->\r\n    <mat-sidenav-content class=\"sidenav-content\">\r\n\r\n      <div class=\"progress-bar-container\">\r\n        <mat-progress-bar color=\"accent\" mode=\"indeterminate\" *ngIf=\"spinnerService.visibility | async\">\r\n        </mat-progress-bar>\r\n        <!-- <mat-spinner class=\"spinner\" [diameter]=\"50\" *ngIf=\"showSpinner\"></mat-spinner> -->\r\n      </div>\r\n\r\n\r\n      <router-outlet></router-outlet>\r\n\r\n    </mat-sidenav-content>\r\n  </mat-sidenav-container>\r\n\r\n</div>"]},"metadata":{},"sourceType":"module"}